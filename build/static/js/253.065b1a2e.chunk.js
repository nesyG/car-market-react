"use strict";(self.webpackChunkvehicle_react_project=self.webpackChunkvehicle_react_project||[]).push([[253],{253:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var r=a(791),n=a(444),c=a(225),s=a(165),l=a(861),o=a(98),i=a(997);function u(){return(u=(0,l.Z)((0,s.Z)().mark((function e(t){var a,r,n,c,l,u,d,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.paginationStore.resetDefaultPage,r=t.dataStore.getFilteredData,n=t.filterStore.params,c=t.sortingStore.sortData,l=t.tokenStore.token,u="?page=1&rpp=12",c&&(u+="&sort=".concat(c)),e.prev=7,e.next=10,(0,i.Z)(l,"GET",{},u,n);case 10:return d=e.sent,e.next=13,d.data;case 13:m=e.sent,(0,o.z)((function(){r(m)})),a(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log("Error: ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[7,18]])})))).apply(this,arguments)}var d=a(184),m=(0,n.Pi)((function(){var e=r.useContext(c.T);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{className:"btn btn-dark me-5 search-button",onClick:function(){!function(e){u.apply(this,arguments)}(e)},children:"Search"})})}));function h(){return(h=(0,l.Z)((0,s.Z)().mark((function e(t){var a,r,n,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.paginationStore.resetDefaultPage,r=t.dataStore.getCarData,n=t.filterStore.resetFilterState,c=t.sortingStore.resetSortData,l=t.tokenStore.token;try{c(),n(),a(),r(l)}catch(s){console.log("Error: ".concat(s))}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=(0,n.Pi)((function(){var e=r.useContext(c.T);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{className:"btn btn-light ms-5",onClick:function(){!function(e){h.apply(this,arguments)}(e)},children:"Reset Filters"})})})),x=(0,n.Pi)((function(){var e=r.useContext(c.T).filterStore,t=e.filterData,a=e.setFilterData,n=e.makeParams;function s(e){var t=e.target.name,r=e.target.value;a(t,r),n()}return(0,d.jsxs)("div",{className:"browse-buttons-container",children:[(0,d.jsx)("span",{className:"lead",children:"Filter:"}),(0,d.jsx)("div",{className:"browseButtonsContainer",children:[{name:"car",labelText:"Which brand are you looking for?",labelPlaceholder:"Volkswagen"},{name:"car_model",labelText:"Which car model would you like to see?",labelPlaceholder:"Golf 4"},{name:"car_model_year",labelText:"Which model year?",labelPlaceholder:"2000"},{name:"car_color",labelText:"Any particular color?",labelPlaceholder:"Navy Blue"}].map((function(e){return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"form-floating mb-3",children:[(0,d.jsx)("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:e.labelPlaceholder,name:e.name,value:t[e.name],onChange:s}),(0,d.jsx)("label",{htmlFor:"floatingInput",children:e.labelText})]})},e.name)}))}),(0,d.jsx)(m,{}),(0,d.jsx)(p,{})]})})),g=a(413);function f(e){return v.apply(this,arguments)}function v(){return(v=(0,l.Z)((0,s.Z)().mark((function e(t){var a,r,n,c,l,u,d,m,h,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.paginationStore,r=a.setPreviousPage,n=a.page,c=t.dataStore.getFilteredData,l=t.filterStore.params,u=t.sortingStore.sortData,d=t.tokenStore.token,m="?page=".concat(n,"&rpp=12"),u&&(m+="&sort=".concat(u)),e.prev=7,e.next=10,(0,i.Z)(d,"GET",{},m,l);case 10:return h=e.sent,e.next=13,h.data;case 13:if((p=e.sent).item.length){e.next=17;break}return r(),e.abrupt("return");case 17:(0,o.z)((function(){c(p)})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),console.log("Error: ".concat(e.t0));case 23:case"end":return e.stop()}}),e,null,[[7,20]])})))).apply(this,arguments)}var j=(0,n.Pi)((function(){var e=r.useContext(c.T),t=e.paginationStore,a=t.setPreviousPage,n=t.setNextPage,s=t.page;return(0,d.jsxs)("div",{className:"pagination-section",children:[(0,d.jsx)("button",{className:"btn btn-light",onClick:function(){a(),f(e)},children:"Previous Page"}),(0,d.jsx)("span",{className:"currentPage page-link",children:s}),(0,d.jsx)("button",{className:"btn btn-light",onClick:function(){n(),f(e)},children:"Next Page"})]})}));function b(){return(b=(0,l.Z)((0,s.Z)().mark((function e(t,a){var r,n,c,l,o,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenStore.token,n=t.dataStore.getCarData,c=t.paginationStore.resetDefaultPage,l=t.filterStore.resetFilterState,o=t.sortingStore.resetSortData,u="/".concat(a),e.prev=6,e.next=9,(0,i.Z)(r,"DELETE",{},u,{});case 9:e.sent,n(r),c(),l(),o(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log("Error: ".concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}var N=(0,n.Pi)((function(e){var t=r.useContext(c.T),a=e.id;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{className:"btn btn-light btn-sm edit-btn",onClick:function(){!function(e,t){b.apply(this,arguments)}(t,a)},children:(0,d.jsx)("span",{className:"material-symbols-outlined btn-symbol",children:"delete"})})})})),y=a(942),_=a(439);function k(){return(k=(0,l.Z)((0,s.Z)().mark((function e(t,a,r){var n,c,l,o,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokenStore.token,c=t.dataStore.getCarData,l=t.paginationStore.resetDefaultPage,o=t.filterStore.resetFilterState,u=t.sortingStore.resetSortData,d="/".concat(r),e.prev=6,e.next=9,(0,i.Z)(n,"PUT",a,d,{});case 9:e.sent,c(n),l(),o(),u(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log("Error: ".concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}var S=function(e){var t=e.id,a=r.useContext(c.T),n=(0,r.useState)(!1),s=(0,_.Z)(n,2),l=s[0],o=s[1];function i(){o(!l)}var u=(0,r.useState)({id:t,car:e.car,price:e.price,car_color:e.car_color,car_model:e.car_model,car_model_year:e.car_model_year,car_vin:e.car_vin,availability:e.availability,date_added:e.date_added}),m=(0,_.Z)(u,2),h=m[0],p=m[1];function x(e){"car_model_year"===e.target.name&&(e.target.value=Number(e.target.value)),p((0,g.Z)((0,g.Z)({},h),{},(0,y.Z)({},e.target.name,e.target.value)))}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"btn btn-light btn-sm ms-5 edit-btn",onClick:i,children:(0,d.jsx)("span",{className:"material-symbols-outlined btn-symbol",children:"edit"})}),l&&(0,d.jsxs)("div",{className:"editing-container",children:[(0,d.jsx)("button",{onClick:i,children:"x"}),(0,d.jsx)("h2",{children:"Edit your car listing"}),(0,d.jsxs)("div",{className:"new-listing-form",children:[(0,d.jsx)("label",{children:"Your car brand:"}),(0,d.jsx)("input",{name:"car",type:"text",className:"form-control",value:h.car,onChange:x}),(0,d.jsx)("label",{children:"Your car model:"}),(0,d.jsx)("input",{name:"car_model",type:"text",className:"form-control",value:h.car_model,onChange:x}),(0,d.jsx)("label",{children:"Your car model year:"}),(0,d.jsx)("input",{name:"car_model_year",type:"text",className:"form-control",value:h.car_model_year,onChange:x}),(0,d.jsx)("label",{children:"Your car color:"}),(0,d.jsx)("input",{name:"car_color",type:"text",className:"form-control",value:h.car_color,onChange:x}),(0,d.jsx)("label",{children:"Your car price:"}),(0,d.jsx)("input",{name:"price",type:"text",className:"form-control",value:h.price,onChange:x}),(0,d.jsx)("button",{onClick:function(){i(),function(e,t,a){k.apply(this,arguments)}(a,h,t)},children:"Edit"})]})]})]})},C=a(87),Z=(0,n.Pi)((function(){var e=r.useContext(c.T),t=e.dataStore,a=e.sortingStore,n=e.tokenStore;return(0,r.useEffect)((function(){t.getCarData(n.token)}),[t,n.token]),(0,d.jsxs)("div",{className:"data-container",children:[(0,d.jsxs)("div",{className:"sorting-section",children:[(0,d.jsx)("span",{className:"lead",children:"Sort by:"}),(0,d.jsxs)("select",{className:"form-select form-select-sm sort-container","aria-label":"Default select",onChange:function(e){var t=e.target.value;a.setSortData(t)},value:a.sortData,children:[(0,d.jsx)("option",{value:"",children:null}),(0,d.jsx)("option",{value:"price|asc",children:"Price (Lowest to Highest)"}),(0,d.jsx)("option",{value:"price|desc",children:"Price (Highest to Lowest)"})]})]}),(0,d.jsx)("div",{className:"card-container",children:void 0!==t.carData&&t.carData.item?t.carData.item.map((function(e){return(0,d.jsxs)("div",{className:"card car-card",children:[(0,d.jsxs)("div",{className:"link-and-delete-btn",children:[(0,d.jsx)(C.rU,{to:"/singleListing/".concat(e.id),children:"More Info"}),(0,d.jsx)(S,(0,g.Z)({},e)),(0,d.jsx)(N,(0,g.Z)({},e))]}),(0,d.jsx)("span",{className:"material-symbols-outlined",children:"car_rental"}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:e.car}),(0,d.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,d.jsx)("li",{className:"list-group-item",children:e.car_model}),(0,d.jsx)("li",{className:"list-group-item",children:e.car_model_year}),(0,d.jsx)("li",{className:"list-group-item",children:e.car_color}),(0,d.jsx)("li",{className:"list-group-item price-text",children:e.price})]})]})]},e.id)})):(0,d.jsx)("div",{className:"spinner",children:(0,d.jsx)("div",{className:"spinner-border",role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}),(0,d.jsx)(j,{})]})}));function P(){return(P=(0,l.Z)((0,s.Z)().mark((function e(t,a){var r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenStore.token,n=t.dataStore.getCarData,e.prev=2,e.next=5,(0,i.Z)(r,"POST",a,"",{});case 5:e.sent,n(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error: ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D=(0,n.Pi)((function(){var e=r.useContext(c.T),t=(0,r.useState)(!1),a=(0,_.Z)(t,2),n=a[0],s=a[1];function l(){s(!n)}var o=(0,r.useState)({car:"",price:"",car_color:"",car_model:"",car_model_year:null,car_vin:"test",availability:!0,date_added:"10th"}),i=(0,_.Z)(o,2),u=i[0],m=i[1];function h(e){var t=e.target,a=t.name,r=t.value;"car_model_year"===a&&(r=Number(r)),m((0,g.Z)((0,g.Z)({},u),{},(0,y.Z)({},a,r)))}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"btn btn-light me-5 add-btn",onClick:l,children:"Add New Listing"}),n&&(0,d.jsxs)("div",{className:"new-listing-container",children:[(0,d.jsx)("button",{className:"close-btn",onClick:l,children:"x"}),(0,d.jsx)("h2",{className:"listing-heading",children:"Create your car listing"}),(0,d.jsxs)("div",{className:"new-listing-form",children:[(0,d.jsx)("label",{children:"Your car brand:"}),(0,d.jsx)("input",{name:"car",type:"text",className:"form-control",value:u.car,onChange:h}),(0,d.jsx)("label",{children:"Your car model:"}),(0,d.jsx)("input",{name:"car_model",type:"text",className:"form-control",value:u.car_model,onChange:h}),(0,d.jsx)("label",{children:"Your car model year:"}),(0,d.jsx)("input",{name:"car_model_year",type:"text",className:"form-control",value:u.car_model_year,onChange:h}),(0,d.jsx)("label",{children:"Your car color:"}),(0,d.jsx)("input",{name:"car_color",type:"text",className:"form-control",value:u.car_color,onChange:h}),(0,d.jsx)("label",{children:"Your car price:"}),(0,d.jsx)("input",{name:"price",type:"text",className:"form-control",value:u.price,onChange:h}),(0,d.jsx)("button",{className:"create-btn",onClick:function(){!function(e,t){P.apply(this,arguments)}(e,u),l()},children:"Create"})]})]})]})})),w=(0,n.Pi)((function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"top",children:[(0,d.jsx)("h1",{className:"h1 home-h1",children:"Find your dream car"}),(0,d.jsx)(D,{})]}),(0,d.jsxs)("div",{className:"hero-section",children:[(0,d.jsx)(x,{}),(0,d.jsx)(Z,{})]})]})}))}}]);
//# sourceMappingURL=253.065b1a2e.chunk.js.map